(function(e){function t(t){for(var n,r,o=t[0],l=t[1],u=t[2],d=0,p=[];d<o.length;d++)r=o[d],a[r]&&p.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},a={app:0},i=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("64a9"),a=s.n(n);a.a},"04a7":function(e,t,s){},"161a":function(e,t,s){"use strict";var n=s("f3ab"),a=s.n(n);a.a},4720:function(e,t,s){"use strict";var n=s("56a3"),a=s.n(n);a.a},"56a3":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),a=s("5c96"),i=s.n(a),r=(s("0fae"),s("b3b4")),o=s.n(r),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Nav",{attrs:{title:"开源说",login:e.login,username:e.username}}),s("div",{staticClass:"content"},[s("Aside",{attrs:{show:e.asideShow}}),s("div",{staticClass:"wrap"},[s("router-view")],1)],1)],1)},u=[],c=(s("7f7f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"nav"},[s("div",{staticClass:"meta"},[s("div",{staticClass:"menu"}),s("div",{staticClass:"title"},[e._v(e._s(e.title))])]),s("div",{staticClass:"status"},[e.username?s("div",{staticClass:"username"},[e._v(e._s(e.username))]):e._e(),e.username?s("div",{staticClass:"log act",on:{click:e.logout}},[e._v("退出登录")]):e._e()])])}),d=[],p={props:{title:{type:String},menu:{type:Boolean},username:{type:String}},mounted:function(){},methods:{logout:function(){var e=this;this.$confirm("当前用户退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.Bmob.User.logout(),window.location.reload()})}}},m=p,f=(s("161a"),s("2877")),g=Object(f["a"])(m,c,d,!1,null,"4b36d5e2",null),h=g.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"aside"})},w=[],b={props:{show:{type:Boolean}},data:function(){return{}}},y=b,C=(s("be43"),Object(f["a"])(y,v,w,!1,null,"3e6ab536",null)),_=C.exports,x={components:{Nav:h,Aside:_},data:function(){return{asideShow:!1,login:!1,username:""}},methods:{getStatus:function(){var e=this.Bmob.User.current();null===e?["login","register"].indexOf(this.$route.name)<0&&this.$router.push("/login"):(this.login=!0,this.username=e.username)}},updated:function(){this.getStatus()},mounted:function(){this.getStatus()}},$=x,O=(s("034f"),Object(f["a"])($,l,u,!1,null,null,null)),k=O.exports,j=s("8c4f"),S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page index"})},B=[],E={methods:{},mounted:function(){}},z=E,P=Object(f["a"])(z,S,B,!1,null,"56f11dbb",null),A=P.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page login"},[s("div",{staticClass:"input-box"},[s("div",{staticClass:"login-title"},[e._v("登录")]),s("div",{staticClass:"unit"},[s("i",{staticClass:"icon el-icon-user"}),s("el-input",{attrs:{placeholder:"用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("div",{staticClass:"unit"},[s("i",{staticClass:"icon el-icon-lock"}),s("el-input",{attrs:{value:"",placeholder:"密码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("div",{staticClass:"btns"},[s("el-button",{attrs:{type:"info",round:"",size:"medium"},on:{click:e.register}},[e._v("注册")]),s("el-button",{attrs:{type:"primary",round:"",size:"medium"},on:{click:e.submit}},[e._v("登录")])],1)])])},T=[],U=(s("a481"),{data:function(){return{username:"",password:"",loading:!1}},methods:{submit:function(){if(!this.username)return this.$message({message:"请输入用户名！",type:"warning"}),!1;if(!this.password)return this.$message({message:"请输入密码！",type:"warning"}),!1;this.loading=!0;var e=this;this.Bmob.User.login(this.username,this.password).then(function(){e.loading=!1,e.$message({message:"登录成功！",type:"success",duration:1e3,onClose:function(){e.$router.replace("/")}})}).catch(function(t){e.loading=!1,e.$message.error("登录失败，请重试！提示：".concat(t.error))})},register:function(){this.$router.push("/register")}}}),M=U,Z=(s("9950"),Object(f["a"])(M,N,T,!1,null,"090c14f8",null)),J=Z.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page register"},[s("div",{staticClass:"input-box"},[s("div",{staticClass:"login-title"},[e._v("注册")]),s("div",{staticClass:"unit"},[s("i",{staticClass:"icon el-icon-user"}),s("el-input",{attrs:{placeholder:"用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("div",{staticClass:"unit"},[s("i",{staticClass:"icon el-icon-lock"}),s("el-input",{attrs:{value:"",placeholder:"密码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("div",{staticClass:"unit"},[s("i",{staticClass:"icon el-icon-lock"}),s("el-input",{attrs:{value:"",placeholder:"重复密码","show-password":""},model:{value:e.repassword,callback:function(t){e.repassword=t},expression:"repassword"}})],1),s("div",{staticClass:"unit"},[s("i",{staticClass:"icon el-icon-receiving"}),s("el-input",{attrs:{value:"",placeholder:"邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("div",{staticClass:"btns"},[s("el-button",{attrs:{type:"primary",round:"",size:"medium"},on:{click:e.submit}},[e._v("注册")])],1)])])},D=[],F={data:function(){return{username:"",password:"",repassword:"",email:"",loading:!1}},methods:{submit:function(){var e=this;return this.username?this.password?this.repassword?this.password!==this.repassword?(this.$message({message:"密码不一致！",type:"warning"}),!1):this.email?/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.email)?(this.loading=!0,void this.Bmob.User.register({username:this.username,password:this.password,email:this.email}).then(function(){e.Bmob.User.login(e.username,e.password).then(function(){e.loading=!1,e.$message({message:"注册成功！正在登录...",type:"success",duration:1e3,onClose:function(){e.$router.replace("/")}})}).catch(function(t){e.$message({message:"登录失败！请重新登录。".concat(t.error),type:"warning",duration:1e3,onClose:function(){e.$router.replace("/login")}})})}).catch(function(t){e.loading=!1,e.$message({message:"注册失败！原因：".concat(t.error),type:"warning"})})):(this.$message({message:"邮箱格式不正确！",type:"warning"}),!1):(this.$message({message:"请输入邮箱！",type:"warning"}),!1):(this.$message({message:"请重复密码！",type:"warning"}),!1):(this.$message({message:"请输入密码！",type:"warning"}),!1):(this.$message({message:"请填写用户名！",type:"warning"}),!1)}}},G=F,H=(s("4720"),Object(f["a"])(G,q,D,!1,null,"44f54664",null)),I=H.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page profile"})},L=[],Q={},R=Q,V=Object(f["a"])(R,K,L,!1,null,"a3d5925a",null),W=V.exports;n["default"].use(j["a"]);var X=new j["a"]({routes:[{path:"/",name:"index",component:A},{path:"/login",name:"login",component:J},{path:"/register",name:"register",component:I},{path:"/profile",name:"profile",component:W}]});n["default"].config.productionTip=!1,X.beforeEach(function(e,t,s){document.title=e.meta.title||"开源说",s()}),n["default"].use(i.a),o.a.initialize("4143acd1a70dddf9","314159"),n["default"].prototype.Bmob=o.a,new n["default"]({router:X,render:function(e){return e(k)}}).$mount("#app")},"64a9":function(e,t,s){},9950:function(e,t,s){"use strict";var n=s("04a7"),a=s.n(n);a.a},be43:function(e,t,s){"use strict";var n=s("e538"),a=s.n(n);a.a},e538:function(e,t,s){},f3ab:function(e,t,s){}});
//# sourceMappingURL=app.e803f5de.js.map